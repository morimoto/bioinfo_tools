============== -*- outline -*- ==============

		bioinfo_tools

2021/03/22	Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
=============================================

* 何これ？

	某研究者から bioinformatics 関連のツールを作って欲しいと
	依頼を受けて作っているやつ

* ライセンス

	GNU General Public License v2

* MAC ユーザー

	MAC の sed (BSD sed) の改行の扱いが相当ややこしいので
	MAC ユーザーは GNU sed を使ってください

		> brew install gnu-sed

* mo_dfast_to_cdspickup.sh

	https://dfast.ddbj.nig.ac.jp/
	http://kazumaxneo.hatenablog.com/entry/2019/10/10/073000
	https://github.com/nigyta/dfast_core

	上記の Dfast は
		A) RARx-METABAT__x/protein.faa
		B) RARx-METABAT__x/genome.gbk
	A) に説明を添えた B) を作成する

	mo_dfast_to_cdspickup は B) の CDS の /note の中に特定のキーワードを含んでいるものを
	A) からピックアップするために、中間ファイルである mo_cdspickup_xxx.xls を作る
	(xxx は指定したキーワード)。

	以下は "AmoA" と言うキーワードを全フォルダ (= RAR*) からピックアップする例

		> ls
		RAR1-METABAT__1  RAR2-METABAT__2  RAR3-METABAT__3 ...

		> mo_dfast_to_cdspickup.sh AmoA RAR*

	上記例の場合、実行後に mo_cdspickup_AmoA.xls と言うファイルができる。
	確認のためこのファイルを MS Office 等で開き余計なものが含まれていないか等を確認する。
	余計なものが含まれている場合は、その行を削除する。
	確認・編集後、「CSV 形式」または「テキスト（タブ）形式」で保存する。
	保存したファイルを使い、次の mo_cdspickup_to_faa.sh を使用する事で、
	特定のキーワード含んだ新しい protein.faa を作成する

* mo_cdspickup_to_faa

	mo_dfast_to_cdspickup により作成された mo_cdspickup_xx ファイルを元に
	新しい protein.faa を作成する

	以下は "AmoA" と言うキーワードを全フォルダ (= RAR*) からピックアップした
	mo_cdspickup_AmoA.xls （テキスト（タブ）形式）を元に全フォルダ内にある
	protein.faa からキーワードを含む情報だけをピックアップする。

		> ls
		RAR1-METABAT__1  RAR2-METABAT__2  RAR3-METABAT__3 ...

		> mo_cdspickup_to_faa.sh mo_cdspickup_AmoA.xls RAR*

	上記の例の実行後、mo_protein.faa が作成される

* mo_uniq_faa

	xxxx.faa フィアルの中からユニークな行をピックアップする

	--- sample.faa ----
	MGA_3|YTPLAS18_00030    K02470
	MGA_4|YTPLAS18_00040    K02469
	MGA_5|YTPLAS18_00050
	MGA_6|YTPLAS18_00060    K02469
	MGA_7|YTPLAS18_00070    K03664
	MGA_8|YTPLAS18_00080
	MGA_9|YTPLAS18_00090
	MGA_10|YTPLAS18_00100   K02470
	-------------------

		> mo_uniq_faa sample.faa
		MGA_7|YTPLAS18_00070    K03664

* mo_get_singleton_faa

	以下のような xxx.faa から指定された MAG のシングルトンを抽出する

	--- sample.faa ---
	...
	MGA_6|YTPLAS18_00060    K02469
	MGA_7|YTPLAS18_00070    K03664
	MGA_8|YTPLAS18_00080
	MGA_9|YTPLAS18_00090
	...
	MGA_3815|YTPLAS72_37530
	MGA_3816|YTPLAS72_37540
	MGA_3817|YTPLAS72_37550   K07714
	MGA_3818|YTPLAS72_37560
	MGA_3819|YTPLAS72_37570
	...
	MGA_1|defluvii_00010      K02313
	MGA_2|defluvii_00020      K02338
	MGA_3|defluvii_00030      K02470
	MGA_4|defluvii_00040      K02469
	...
	-------------------

		> mo_get_singleton_faa sample.faa YTPLAS18

* mo_get_common_genome_faa

	以下のような xxx.faa から指定された MAG のコアを多い順に表示する

	--- sample.faa ---
	...
	MGA_6|YTPLAS18_00060    K02469
	MGA_7|YTPLAS18_00070    K03664
	MGA_8|YTPLAS18_00080
	MGA_9|YTPLAS18_00090
	...
	MGA_3815|YTPLAS72_37530
	MGA_3816|YTPLAS72_37540
	MGA_3817|YTPLAS72_37550   K07714
	MGA_3818|YTPLAS72_37560
	MGA_3819|YTPLAS72_37570
	...
	MGA_1|defluvii_00010      K02313
	MGA_2|defluvii_00020      K02338
	MGA_3|defluvii_00030      K02470
	MGA_4|defluvii_00040      K02469
	...
	-------------------

		> mo_get_common_genome_faa sample.faa
